%%
clear
times=20;
result=zeros(100,times);
for i=1:1:times
    r=normrnd(0,1,1,100);
    r=sort(r);
    result(:,i)=r;
end
result_x1=result(100,:);
result_x2=result(99,:);
result_x3=result(98,:);
x=linspace(1,4.5,100);
y1=normcdf(x).^100;
y2=normcdf(x).^100+nchoosek(100,99)*normcdf(x).^99.*(1-normcdf(x));
y3=normcdf(x).^100+nchoosek(100,99)*normcdf(x).^99.*(1-normcdf(x))+nchoosek(100,98)*normcdf(x).^98.*(1-normcdf(x)).^2;
emp_plot(result_x1,211,0.15,x,y1)
emp_plot(result_x2,212,0.15,x,y2)
emp_plot(result_x3,213,0.15,x,y3)
mean1=mean(result_x1);
var1=var(result_x1);
mean2=mean(result_x2);
var2=var(result_x2);
mean3=mean(result_x3);
var3=var(result_x3);
var4=var(result(1,:));
var5=var(result(2,:));
var6=var(result(3,:));
var7=var(result(50,:));
var8=var(result(51,:));
%%
clear
times=80;
result=zeros(100,times);
for i=1:1:times
    r=normrnd(0,1,1,100);
    r=sort(r);
    result(:,i)=r;
end
result_x1=result(100,:);
result_x2=result(99,:);
result_x3=result(98,:);
x=linspace(1,4.5,100);
y1=normcdf(x).^100;
y2=normcdf(x).^100+nchoosek(100,99)*normcdf(x).^99.*(1-normcdf(x));
y3=normcdf(x).^100+nchoosek(100,99)*normcdf(x).^99.*(1-normcdf(x))+nchoosek(100,98)*normcdf(x).^98.*(1-normcdf(x)).^2;
%emp_plot(result_x1,221,0.15,x,y1)
%emp_plot(result_x2,222,0.15,x,y2)
%emp_plot(result_x3,223,0.15,x,y3)
mean1=mean(result_x1);
var1=var(result_x1);
mean2=mean(result_x2);
var2=var(result_x2);
mean3=mean(result_x3);
var3=var(result_x3);var4=var(result(1,:));
var5=var(result(2,:));
var6=var(result(3,:));
var7=var(result(50,:));
var8=var(result(51,:));